@{
    ViewData["Title"] = "Home Page";
}

@model HomeIndexViewModel;

<div class="hero">
    <section class="hero-left">
        <h1>Empower Your Language Journey</h1>
        <h4>Your Gateway to Fluent Learning!</h4>
        <p>
            Insert your corporate text here
            @* Master languages at your pace, from beginners to advanced. 
            Redefine language education from home. Join us on your journey to fluency! *@
        </p>

        <button href="#" class="btn btn-primary btn-lg" style="text-decoration: none">Join now</button>
    </section>

    <section class="right">
        <img src="~/images/home-temp.png" alt="Hero illustration" />
    </section>
</div>


<h3>Benefits</h3>
<div class="bullet-points" id="grad1">
    <p>
        <i class="fas fa-band-aid"></i>
        <br/>
        Lorem ipsum dolor sit amet, consectetur adipiscing elit. 
        Sed gravida urna vel ipsum ultrices, ac faucibus sapien volutpat.
    </p>
    <p>
        <i class="fas fa-band-aid"></i>
        <br />
        Lorem ipsum dolor sit amet, consectetur adipiscing elit.
        Sed gravida urna vel ipsum ultrices, ac faucibus sapien volutpat.
    </p>
    <p>
        <i class="fas fa-band-aid"></i>
        <br />
        Lorem ipsum dolor sit amet, consectetur adipiscing elit.
        Sed gravida urna vel ipsum ultrices, ac faucibus sapien volutpat.
    </p>
</div>


<button class="btn btn-primary btn-success" id="popularButton" style="margin-bottom: 5px;">Most Popular</button>
<button class="btn btn-primary" id="ratingButton" style="margin-bottom: 5px;">Top Rated</button>
<button class="btn btn-primary" id="newestButton" style="margin-bottom: 5px;">Newest</button>

@*MOST POPULAR*@
<div id="popularBlock">
    <div class="d-flex card-carousel rounded-1">
        @foreach (var course in Model.CoursesByPopularity)
        {
            <div class="card" style="width: 18rem;">
                <div class="card-body">
                    <h5 class="card-title">@course.Title</h5>
                    <p class="card-text">Students: @course.EnrolledStudents.Count()</p>
                </div>
                <div class="card-footer">
                    <a asp-controller="Course" asp-action="Details" asp-route-id="@course.Id" class="btn btn-primary">Go to course</a>
                </div>
            </div>
        }
    </div>
</div>

@*TOP RATED*@
<div id="ratingBlock" class="hidden">
    <div class="d-flex card-carousel rounded-1">
        @foreach (var course in Model.CoursesByRating)
        {
            <div class="card" style="width: 18rem;">
                <div class="card-body">
                    <h5 class="card-title">@course.Title</h5>
                        @{
                            var rating = course.Ratings.Any() ? course.Ratings.Average(r => r.Value) : 0;
                            <p class="card-text">Avg. Rating: @rating </p>
                        }
                </div>
                <div class="card-footer">
                    <a asp-controller="Course" asp-action="Details" asp-route-id="@course.Id" class="btn btn-primary">Go to course</a>
                </div>
            </div>
        }
    </div>
</div>

@*NEWEST*@
<div id="newestBlock" class="hidden">
    <div class="d-flex card-carousel rounded-1">
        @foreach (var course in Model.CoursesByDate)
        {
            <div class="card" style="width: 18rem;">
                <div class="card-body">
                    <h5 class="card-title">@course.Title</h5>
                    <p class="card-text">Some quick example text to build on the card title and make up the bulk of the card's content.</p>
                </div>
                <div class="card-footer">
                    <a asp-controller="Course" asp-action="Details" asp-route-id="@course.Id" class="btn btn-primary">Go to course</a>
                </div>
            </div>
        }
    </div>
</div>


<h3>Some stats</h3>
<div class="bullet-points" id="grad1">
    <p>
        <i class="fas fa-band-aid"></i>
        <br />
        Lorem ipsum dolor sit amet, consectetur adipiscing elit.
        Sed gravida urna vel ipsum ultrices, ac faucibus sapien volutpat.
    </p>
    <p>
        <i class="fas fa-band-aid"></i>
        <br />
        Lorem ipsum dolor sit amet, consectetur adipiscing elit.
        Sed gravida urna vel ipsum ultrices, ac faucibus sapien volutpat.
    </p>
    <p>
        <i class="fas fa-band-aid"></i>
        <br />
        Lorem ipsum dolor sit amet, consectetur adipiscing elit.
        Sed gravida urna vel ipsum ultrices, ac faucibus sapien volutpat.
    </p>
</div>

@*TEACHERS*@
<h2>Teachers</h2>
<div class="d-flex card-carousel rounded-1">

    @{
        foreach (var teacher in Model.Teachers)
        {
            <div class="card" style="width: 18rem;">
                <div class="card-body">
                    <h5 class="card-title">@teacher.FirstName @teacher.LastName</h5>
                    <p class="card-text">Some quick example text to build on the card title and make up the bulk of the card's content.</p>
                    <a href="#" class="btn btn-primary">Go somewhere</a>
                </div>
            </div>
        }
    }
</div>

<script>
    function toggleBlockVisibility(showBlockId, buttonId, hideBlockIds, hideButtonIds) {
        var showBlock = document.getElementById(showBlockId);
        var showButton = document.getElementById(buttonId)
        showButton.classList.add('btn-success')
        showBlock.classList.remove('hidden');

        hideBlockIds.forEach(function (blockId) {
            var hideBlock = document.getElementById(blockId);
            hideBlock.classList.add('hidden');
        });

        hideButtonIds.forEach(function (buttonId)
        {
            var hideButton = document.getElementById(buttonId)
            hideButton.classList.remove('btn-success')
        })
    }

    document.getElementById('popularButton').addEventListener('click', function () {
        toggleBlockVisibility('popularBlock', 'popularButton', ['newestBlock', 'ratingBlock'], ['ratingButton', 'newestButton']);
    });

    document.getElementById('ratingButton').addEventListener('click', function () {
        toggleBlockVisibility('ratingBlock', 'ratingButton', ['newestBlock', 'popularBlock'], ['popularButton', 'newestButton']);
    });

    document.getElementById('newestButton').addEventListener('click', function () {
        toggleBlockVisibility('newestBlock', 'newestButton', ['popularBlock', 'ratingBlock'], ['ratingButton', 'popularButton']);
    });
</script>


@* todo Move to site.css when done*@
<style>
#popularBlock{
    display: block;
}

#newestBlock.hidden,
#popularBlock.hidden,
#ratingBlock.hidden {
    display: none;
}

.card-carousel{
    border: 1px solid gray;
    padding-top: 8px;
    padding-bottom: 8px;
    padding-left: 8px;
    padding-right: 8px;
    justify-content: space-between;
    margin-bottom: 3rem;
    box-shadow: 0 0 10px rgba(0, 0, 0, 0.5);
}

#grad1 {
    height: 200px;
    background-image: linear-gradient(to right, #4158D0, #C850C0,#FFCC70);
}

.bullet-points{
    display: flex;
    align-items: center;
    margin-bottom: 3rem;
    justify-content: space-between;
}

.bullet-points section{
    flex: 1;
}

.bullet-points p {
    font-weight: 600;
    line-height: 1.5;
    margin-bottom: 25px;
    color: #ffffff;
    margin-left: 5%;
    margin-right: 5%;
    text-align: justify;
}

.bullet-points i {
    font-weight: 600;
    line-height: 1.5;
    color: #ffff;
    justify-content: center;
    margin-left: 40%;
}

.hero {
    display: flex;
    align-items: center;
    margin-bottom: 5rem;
}

.hero section {
    flex: 1;
}
.hero-left h1 {
    font-size: 2.5rem;
    margin-bottom: 25px;
    color: #070439;
}

.hero-left p {
    font-weight: 600;
    line-height: 1.5;
    margin-bottom: 25px;
    color: #444444;
}

.hero-left {
    padding-right: 40px;
}
.hero-left a {
    padding: 10px 15px;
    background: #372cfa;
    color: #fff;
    font-weight: 600;
    border-radius: 4px;
    cursor: pointer;
    border: none;
    outline: none;
    transition: 0.3s all ease;
    border-radius: 20px;
}
.hero-left a:hover{
    background-color: #070439;
}
.right {
    padding-top: 50px;
}

.right img {
    width: 100%;
    max-width: 465px;
}
@@media screen and (max-width: 1000px) {
    nav img {
    width: 100px; 
    }

  nav li {
    list-style: none;
    margin: 0 8px 
  }

  .hero {
    flex-direction: column;  
    text-align: center; 
  }

  .hero .right {
    order: -1;  
    padding-bottom: 5rem; 
  }
}
</style>
